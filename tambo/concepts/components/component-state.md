# Component State Management Guide

## Overview

The Tambo documentation explains that "Components generated by Tambo may have internal state values that are updated by user interactions after the component is rendered."

To enable Tambo to track component state changes, developers should replace the standard React `useState` hook with `useTamboComponentState`.

## Key Benefits

This approach provides two main advantages:

1. **Contextual Awareness**: Tambo can consider current state values when responding to subsequent user messages
2. **State Persistence**: Previous thread messages render with their latest state values

## Basic Implementation

### Simple Email Component Example

The documentation provides this baseline React pattern:

```tsx
export const EmailSender = () => {
  const [emailBody, setEmailBody] = useState("")
  const [isSent, setIsSent] = useState(false)
}
```

### With Tambo State Tracking

Convert to Tambo-aware state management:

```tsx
import { useTamboComponentState } from "@tambo-ai/react";

export const EmailSender = () => {
  const [emailBody, setEmailBody] = useTamboComponentState("emailBody", "");
  const [isSent, setIsSent] = useTamboComponentState("isSent", false);
}
```

## Handling Props-Driven Updates

When components need to accept initial values from props, use the third parameter (`setFromProp`):

```tsx
export const EmailSender = ({ initialEmailBody }: { initialEmailBody: string }) => {
  const [emailBody, setEmailBody] = useTamboComponentState(
    "emailBody",
    "",
    initialEmailBody
  );
  const [isSent, setIsSent] = useTamboComponentState("isSent", false);
}
```

This prevents prop values from overwriting previously stored state when re-rendering components.
